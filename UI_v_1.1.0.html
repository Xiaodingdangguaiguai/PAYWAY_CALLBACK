<!DOCTYPE html>
<html>

<head>
  <title>Payway Search</title>
  <meta charset="UTF-8">
</head>

<body>

<h1>Payway</h1>
<p style="color:Tomato;">Input a customerID you want:</p>

<!-- refresh button -->
<button type="button" onclick="loadDoc()">Refresh</button>

<!-- search button -->
<button type="button" onclick="mySearch()">Search</button>


<!-- the variable of input customer id for searching -->
<input id="numb">

<!-- display part for last 10 customer id and customer names -->
<p id="demo"></p>
<br>
<!-- display the customer's details you wanna search -->
<p id="display"></p>



<!-- function for refresh just for test currently -->
<script type="text/javascript">
    function myRefresh(){
    	//it can be defined as globle variable without var
    	names = ["aaa", "bbb", "ccc", "ddd"];
    	cid = [111, 222, 333, 444];
    	var txt = "";
    	var x;
    	for(x = 0; x <names.length; x++){
    		txt += names[x] + ":" + cid[x] + "<br>";
        }
        var y = names + "<br>" + cid;
        document.getElementById("demo").innerHTML = txt;
    }
</script>



<script type="text/javascript">
	function loadDoc(){
		var data = null;

		var xhr = new XMLHttpRequest();
		xhr.withCredentials = true;

		xhr.addEventListener("readystatechange", function () {
  			if (this.readyState === 4) {
    			console.log(this.responseText);
    		//	document.getElementById("demo").innerHTML = this.responseText;
  			}
		});

		xhr.open("GET", "api.payway.com.au/rest/v1", true);
		xhr.setRequestHeader("authorization", "Basic VDEwNzg2X1NFQ19yYWViZWFtOHh5ZXJxMmVuZHRnaXIyM2NocWlhY2s5M2ZmbnBqYjZzZG5wOGR4dWl3Z2VtY2lqNThpa2Q6");
		xhr.setRequestHeader("cache-control", "no-cache");
		xhr.setRequestHeader("postman-token", "bfca16c4-ff04-b0d6-65bd-f08ca9a96faa");

		xhr.send(data);
	}
</script>



<!-- function for search just for test currently -->
<script type="text/javascript">
	function mySearch(){
		var i, x, text;
		var status = false;
		x = document.getElementById("numb").value;
		
		//if (isNaN(x)) {
        //		text = "Input not valid";
   		//	} else {
        //		text = x;
    	//	}
    	//x in cid means the key value is x, like cid[x], not the content value itself.
    	for(i = 0; i < cid.length; i++){
    		if(x == cid[i]){
    			status = true;
    		}
    	}


    	if(status === true){
    		document.getElementById("display").innerHTML = x;
    	}else{
    		text = "Input not found";
    		document.getElementById("display").innerHTML = text;
    	}
    	//document.getElementById("display").innerHTML = cid;
    	
	}
</script>




</body>
</html>
